# 🕵️‍♂️ 셜log : AI Agent-Based Security Log Analysis

> **"로그 속의 범인을 찾아내는 지능형 보안 파트너, 셜log"**
> AiGIS 팀이 개발하는 이 시스템은 서버 및 웹 로그를 분석하여 침해 징후를 탐지하고, 보안 비전문가도 즉시 대응할 수 있는 가이드를 제공합니다.

---

## 👥 1. Team AiGIS
보안과 AI의 융합을 통해 더 안전한 네트워크 환경을 만드는 **AiGIS** 팀입니다.

* **팀장**: 고태완 (Frontend, OpenAI 연결 및 멀티에이전트 구현, 에이전트 개별 구현)
* **팀원**:
    * **노다원**: 모델링, 모델 평가 및 성능 개선
    * **최성우**: 데이터 수집, 데이터 전처리
    * **민순기**: 데이터 수집, 데이터 전처리
    * **추민호**: 데이터 수집, 데이터 전처리, 모델링, 모델 평가 및 성능 개선
    * **이채원**: 에이전트 개별 구현, OpenAI 연결 및 멀티에이전트 구현
    * **공지원**: 데이터 수집, 데이터 전처리

---

## 📖 2. Introduction
최근 서버 환경의 보안 위협은 방대한 로그를 남기지만, 이를 직접 분석하기에는 많은 시간과 전문 지식이 필요합니다. **셜log**는 OpenAI 에이전트 API를 활용해 복잡한 로그 데이터 사이의 '맥락'을 읽고, 실무적인 대응 방안을 자연어로 제안합니다.

---

## ⚙️ 3. System Workflow & Architecture
셜log는 계층적 멀티 에이전트 구조를 통해 정밀한 분석을 수행합니다.

### 🏗 Multi-Agent Architecture
업로드된 구조도에 따라 시스템은 다음과 같이 동작합니다.
- **Agent 1 (Orchestrator)**: 사용자와 소통하며 분석 요청을 각 전문 에이전트에게 배분하고 결과를 종합합니다.
- **Agent 2 (Network Specialist)**: ML 모델을 활용하여 네트워크 트래픽 기반의 이상 징후(DDoS, 스캐닝 등)를 분석합니다.
- **Agent 3 (Host Specialist)**: ML 모델을 활용하여 시스템 로그(SSH, HDFS 등) 및 서버 동작 기반의 위협을 분석합니다.

### 🔄 분석 흐름
1. **Upload**: 사용자가 서버/네트워크 원본 로그 파일 업로드
2. **Summary**: AI 에이전트가 로그의 전체적인 패턴 요약
3. **Detection**: 이상 징후 판단 (Brute Force, Port Scanning, DDoS 등)
4. **Analysis**: 공격의 원인 및 위험도를 자연어로 설명
5. **Guidance**: 차단 명령어 제공 및 보안 설정 변경 가이드 제시

---

## 💬 4. Analysis Example
**Q. 이 로그에서 문제되는 부분 알려줘!**

**A. 셜log 분석 결과:**
- **🚨 탐지 위협**: SSH Brute Force (무차별 대입 공격) 의심
- **🔍 근거**: 최근 5분간 특정 IP(`192.168.x.x`)에서 200회 이상의 로그인 실패 발생
- **🛡️ 권장 조치**:
  - `Fail2Ban` 적용을 통한 자동 차단 활성화
  - 방화벽(`iptables`)을 이용해 해당 IP 즉시 차단

---

## 🛠 5. Git Convention (Commit Message)
AiGIS 팀은 일관된 협업을 위해 아래의 **CRUD 기반 컨벤션**을 준수합니다.

| Prefix | Meaning | Description |
| :--- | :--- | :--- |
| **`C : CREATE`** | **생성** | 새로운 기능 추가, 파일 신규 생성 시 |
| **`R : READ`** | **읽기/데이터** | 데이터셋 로드, 문서화, 기존 코드 분석 시 |
| **`U : UPDATE`** | **수정** | 기존 코드 기능 개선, 버그 수정, 프롬프트 최적화 |
| **`D : DELETE`** | **삭제** | 불필요한 코드, 중복 디렉토리 및 파일 삭제 시 |

---

## 📂 Project Structure
```text
Sherlog/
├── app/              # Frontend (Streamlit 기반 UI - 고태완)
├── src/              # 핵심 로직 (에이전트 및 멀티에이전트 구현 - 고태완, 이채원)
│   ├── agents/       # OpenAI 에이전트 설계 및 프롬프트
│   ├── parsers/      # 로그 데이터 전처리 엔진 (최성우, 민순기, 추민호, 공지원)
│   └── models/       # ML 분석 모델 (노다원, 추민호)
├── data/             # 보안 데이터셋 (CIC-IDS, HDFS 등)
└── README.md         # 프로젝트 가이드라인
